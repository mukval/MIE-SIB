# MIE-SIB. Homework #3. 

### 1. Histogram of time between flows.

File [tmp.flw](https://github.com/platomik/MIE-SIB/blob/master/homework3/tmp.flw "tmp.flw"). was generated by plugin Nfsen2R. It includes traffic flows for half-day interval. And looks like:

	DATE,SOURCE,DESTINATION,PROTO,SPORT,DPORT,INPUT,OUTPUT,DURATION,FLAGS
	2012-12-21 23:58:50.202,    173.45.67.98,   78.46.229.109,TCP  ,  4287,    80,       6,       0,    0.302,.AP.SF
	2012-12-21 23:58:50.202,   78.46.229.109,    173.45.67.98,TCP  ,    80,  4287,       7,       0,    0.302,.AP.SF
	2012-12-21 23:58:58.655,   78.46.229.109,    173.45.67.98,TCP  ,    80,  1139,       7,       0,    0.300,.AP.SF
	....

Let's build a histogram for time between adjacent flows in the file.

Import data from file to data matrix representation:

	x <- as.matrix(read.csv(file="/tmp/tmp.flw",head=TRUE,sep=","))

Create new element from 1st column that matrix. That is flows time:

	y=strptime(x[,1], "%Y-%m-%d %H:%M:%OS")
	
Now new element is created from differences between adjacent flow time:

	z<-as.table(diff(y))
	
Plot barhistogram for the values:

	barplot(z)
	
![](https://github.com/platomik/MIE-SIB/raw/master/homework3/p1.jpg)

**Question:** `Why do we have negative values?` 

**Answer:** Collector puts information about the transmission into the file when it is finished but this record will contain start time when transmission is started. It means traffic between two nodes contains many flows will be registered later than traffic between two nodes with less flows. When traffic is intensive the situation is more apparent.

In our case it would be better sort flows by registered time and draw a histogram again:

	z<-as.table(diff(sort(y)))
	
![](https://github.com/platomik/MIE-SIB/raw/master/homework3/p2.jpg)

**Question:** 
